function count_checks(){let e=document.querySelectorAll('input[type="checkbox"]:checked').length,t=document.getElementById("scount");e>0?(t.innerText=t.dataset.text.replace("%count%",e),t.style.display="inline",window.parent.document.getElementById("movepicture").classList.remove("disabled"),window.parent.document.getElementById("delpicture").classList.remove("disabled"),window.parent.document.getElementById("sharepicture").classList.remove("disabled"),window.parent.document.getElementById("editmeta").classList.remove("disabled")):(t.innerText="",t.style.display="none",window.parent.document.getElementById("movepicture").classList.add("disabled"),window.parent.document.getElementById("delpicture").classList.add("disabled"),window.parent.document.getElementById("sharepicture").classList.add("disabled"),window.parent.document.getElementById("editmeta").classList.add("disabled"))}function checkboxes(){let e=$(".icheckbox"),t=null;e.click(function(d){if(t){if(d.shiftKey){let d=e.index(this),c=e.index(t);e.slice(Math.min(d,c),Math.max(d,c)+1).prop("checked",t.checked)}t=this}else t=this})}window.onload=function(){$(".dgal").justifiedGallery({rowHeight:190,margins:5,border:0,rel:"gallery",lastRow:"nojustify",captions:!1,randomize:!1}),checkboxes();for(let e of document.querySelectorAll(".marker, .dhfmt"))e.addEventListener("click",t=>{let d=e.parentNode.dataset.day;if(1==e.dataset.cb){for(let e of document.querySelectorAll('[data-dday="'+d+'"]'))e.checked=!1;e.dataset.cb=0}else{for(let e of document.querySelectorAll('[data-dday="'+d+'"]'))e.checked=!0;e.dataset.cb=1}count_checks()});for(let e of document.querySelectorAll(".icheckbox"))e.addEventListener("change",count_checks)};